(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-643b2028"],{"162d":function(t,e,o){},"9e4c":function(t,e,o){t.exports=o.p+"static/img/default-avatar.756ecafd.jpg"},a9e1:function(t,e,o){"use strict";var s=o("162d");o.n(s).a},dc3f:function(t,e,o){"use strict";o.r(e);var s=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-avatar"},[e("img",{attrs:{src:o("9e4c"),alt:"",width:"100%",height:"100%"}})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-foot"},[o("div",{staticClass:"login-foot-min"},[t._v("注册账号")]),o("span",[t._v("|")]),o("div",{staticClass:"login-foot-min"},[t._v("忘记密码")])])}],i={name:"Login",data:function(){return{userInfo:{username:"",password:""},userInfoRules:{username:[{validator:function(t,e,o){""===e?o(new Error("请输入账号")):o()},trigger:"blur"}],password:[{validator:function(t,e,o){""===e?o(new Error("请输入密码")):o()},trigger:"blur"}]},loading:!1,jinwei:{lat:0,lag:0}}},mounted:function(){var t=this;setInterval(function(){t.getLocation()},1e3)},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.$store.dispatch("LoginByUsername",e.userInfo).then(function(){e.loading=!1,e.$router.push({path:"/"})}).catch(function(){e.loading=!1})})},getLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition,this.showError):alert("浏览器不支持地理定位。")},showError:function(t){switch(t.code){case t.PERMISSION_DENIED:case t.POSITION_UNAVAILABLE:case t.TIMEOUT:case t.UNKNOWN_ERROR:}},showPosition:function(t){var e={lat:t.coords.latitude,lag:t.coords.longitude};this.jinwei=e}}},n=(o("a9e1"),o("2877")),a=Object(n.a)(i,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-bg"},[o("div",{staticClass:"login-form"},[o("div",{staticClass:"login-title"},[t._v("WELCOME")]),t._m(0),o("el-form",{ref:"userInfo",staticClass:"demo-ruleForm",attrs:{model:t.userInfo,"status-icon":"",rules:t.userInfoRules,"label-width":"40px"}},[o("el-form-item",{attrs:{label:"账号",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.userInfo.username,callback:function(e){t.$set(t.userInfo,"username",e)},expression:"userInfo.username"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}})],1),o("el-form-item",[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return t.submitForm("userInfo")}}},[o("div",{staticStyle:{width:"100px",margin:"0 auto","text-align-last":"justify"}},[t._v("登录")])])],1)],1),t._m(1),o("div",{staticClass:"login-foot"},[o("div",{staticClass:"login-foot-min"},[t._v("纬度："+t._s(t.jinwei.lat))]),o("span",[t._v("|")]),o("div",{staticClass:"login-foot-min"},[t._v("经度："+t._s(t.jinwei.lag))])])],1)])},s,!1,null,"452e2e97",null);e.default=a.exports}}]);